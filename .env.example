# JWT Configuration
JWT_ALGORITHM=HS256
JWT_SECRET_KEY=change-me-to-a-secure-random-string-min-32-characters
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Optional: RS256 asymmetric keys (alternative to HS256)
# JWT_PRIVATE_KEY_PATH=/path/to/private.pem
# JWT_PUBLIC_KEY_PATH=/path/to/public.pem

# Admin Panel Configuration
ADMIN_TOKEN_EXPIRE_MINUTES=480    # 8 hours admin session

# Gateway Configuration
GATEWAY_PORT=9105                    # Docker port (change if needed)
MCP_PUBLIC_URL=https://mcp.yourdomain.com  # Your HTTPS domain (required for Claude.ai)
AUTH_REQUIRED=true
ALLOW_INSECURE_HTTP=false            # Allow HTTP (not recommended for production)
DISABLE_DNS_REBINDING=false          # Disable DNS rebinding protection

# Database
AUTH_SQLITE_PATH=/app/data/users.db

# User Management
ALLOW_REGISTRATION=false

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=true

# Optional: Static tokens for backward compatibility
# STATIC_BEARER_TOKEN=
# STATIC_BEARER_TOKENS=

# Optional: Trusted IPs (bypass auth for /mcp-internal)
# MCP_TRUSTED_IPS=127.0.0.1,::1

# CORS (comma-separated origins)
ALLOWED_ORIGINS=https://mcp.yourdomain.com,http://localhost:9105

# Request timeout
REQUEST_TIMEOUT_SECONDS=30

# Backend Token Management
MCP_TOKEN_REFRESH_INTERVAL=300       # Check every 5 minutes
MCP_TOKEN_REFRESH_THRESHOLD=5        # Refresh if expires within 5 minutes

# Logging
LOG_LEVEL=INFO
# MCP request logging
MCP_LOG_DB_ENABLED=true
# Optional: archive old DB logs to file on cleanup
# MCP_LOG_DB_ARCHIVE_ENABLED=false
# MCP_LOG_DB_ARCHIVE_PATH=/app/data/logs/mcp_db_archive.jsonl
# DB log retention and size limits
# MCP_LOG_DB_DAYS_TO_KEEP=30
# MCP_LOG_DB_MAX_MB=200
# MCP_LOG_DB_MAX_ROWS=200000
# MCP_LOG_DB_CHECK_INTERVAL_SECONDS=300

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_WINDOW=60
RATE_LIMIT_REGISTER_MAX=3
RATE_LIMIT_REGISTER_WINDOW=300
RATE_LIMIT_CLEANUP_INTERVAL=3600

# Optional: RAG Backend Integration
# RAG_API_BASE_URL=http://localhost:8004/api/v1
# RAG_API_BEARER=your-bearer-token
# RAG_API_KEY=your-api-key
# RAG_API_USERNAME=username
# RAG_API_PASSWORD=password
# DEFAULT_KB_ID=your-kb-id
# RETRIEVAL_CONFIG_PATH=/path/to/config.json
# RETRIEVAL_CONFIG_TTL_SECONDS=2.0
